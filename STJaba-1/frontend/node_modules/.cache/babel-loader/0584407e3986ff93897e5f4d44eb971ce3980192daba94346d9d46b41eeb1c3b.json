{"ast":null,"code":"var _jsxFileName = \"/Users/abdullahzayed/STJaba-1/frontend/src/components/MapDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\n\n// MapDisplay shows OpenStreetMap with incidents (red triangles) and vehicles (blue cars)\n// Coordinates are normalized [0-1] relative to center point\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapDisplay({\n  incidents = [],\n  vehicles = [],\n  selectedIncidentLocation,\n  selectedVehicleLocation,\n  onMapClick\n}) {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef({\n    incidents: {},\n    vehicles: {},\n    selected: null\n  });\n  const CENTER = [30.0635840, 31.4889939];\n  const ZOOM = 15;\n\n  // Convert normalized coords to lat/lng\n  const normToLatLng = norm => {\n    if (!norm || norm.x === undefined || norm.y === undefined) return null;\n    const latOffset = (0.5 - norm.y) * 0.1;\n    const lngOffset = (norm.x - 0.5) * 0.1;\n    return [CENTER[0] + latOffset, CENTER[1] + lngOffset];\n  };\n\n  // Convert lat/lng to normalized coords\n  const latLngToNorm = (lat, lng) => {\n    const latOffset = lat - CENTER[0];\n    const lngOffset = lng - CENTER[1];\n    const x = 0.5 + lngOffset / 0.1;\n    const y = 0.5 - latOffset / 0.1;\n    return {\n      x: parseFloat(Math.max(0, Math.min(1, x)).toFixed(4)),\n      y: parseFloat(Math.max(0, Math.min(1, y)).toFixed(4))\n    };\n  };\n\n  // Custom icon functions\n  const createTriangleIcon = () => {\n    return window.L.divIcon({\n      html: '<div style=\"width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:20px solid #dc2626;transform:translate(-12px,-20px);filter:drop-shadow(0 2px 4px rgba(0,0,0,0.3))\"></div>',\n      className: '',\n      iconSize: [24, 20],\n      iconAnchor: [12, 20]\n    });\n  };\n  const createCarIcon = () => {\n    return window.L.divIcon({\n      html: '<div style=\"font-size:24px;transform:translate(-12px,-12px);filter:drop-shadow(0 2px 4px rgba(0,0,0,0.3))\">ðŸš—</div>',\n      className: '',\n      iconSize: [24, 24],\n      iconAnchor: [12, 12]\n    });\n  };\n  const createCrosshairIcon = () => {\n    return window.L.divIcon({\n      html: '<div style=\"width:30px;height:30px;position:relative;transform:translate(-15px,-15px)\"><div style=\"position:absolute;width:2px;height:30px;background:#22c55e;left:14px\"></div><div style=\"position:absolute;width:30px;height:2px;background:#22c55e;top:14px\"></div><div style=\"position:absolute;width:14px;height:14px;border:3px solid #22c55e;border-radius:50%;left:5px;top:5px;background:rgba(34,197,94,0.2)\"></div></div>',\n      className: '',\n      iconSize: [30, 30],\n      iconAnchor: [15, 15]\n    });\n  };\n  useEffect(() => {\n    if (!mapRef.current || mapInstanceRef.current) return;\n    const link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css';\n    document.head.appendChild(link);\n    const script = document.createElement('script');\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js';\n    script.onload = () => {\n      const map = window.L.map(mapRef.current).setView(CENTER, ZOOM);\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Â© OpenStreetMap contributors'\n      }).addTo(map);\n      map.on('click', e => {\n        console.log('Map clicked:', e.latlng);\n        const norm = latLngToNorm(e.latlng.lat, e.latlng.lng);\n        console.log('Normalized:', norm);\n        console.log('onMapClick function:', onMapClick);\n        if (onMapClick) {\n          onMapClick(norm);\n        }\n      });\n      mapInstanceRef.current = map;\n    };\n    document.head.appendChild(script);\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove();\n        mapInstanceRef.current = null;\n      }\n    };\n  }, []);\n  useEffect(() => {\n    if (!mapInstanceRef.current || !window.L) return;\n    console.log('MapDisplay update - selectedIncidentLocation:', selectedIncidentLocation);\n    console.log('MapDisplay update - selectedVehicleLocation:', selectedVehicleLocation);\n    const map = mapInstanceRef.current;\n    const markers = markersRef.current;\n\n    // Clear old markers\n    Object.values(markers.incidents).forEach(m => map.removeLayer(m));\n    Object.values(markers.vehicles).forEach(m => map.removeLayer(m));\n    if (markers.selected) {\n      map.removeLayer(markers.selected);\n      markers.selected = null;\n    }\n    markers.incidents = {};\n    markers.vehicles = {};\n\n    // Add incident markers (pending only) as red triangles\n    incidents.filter(i => i.status === 'pending').forEach(inc => {\n      const pos = normToLatLng(inc.location);\n      if (pos) {\n        const marker = window.L.marker(pos, {\n          icon: createTriangleIcon()\n        }).addTo(map);\n        marker.bindPopup(`<strong>${inc.name}</strong><br>Status: ${inc.status}`);\n        markers.incidents[inc.id] = marker;\n      }\n    });\n\n    // Add vehicle markers as blue cars\n    vehicles.forEach(veh => {\n      const pos = normToLatLng(veh.location);\n      if (pos) {\n        const marker = window.L.marker(pos, {\n          icon: createCarIcon()\n        }).addTo(map);\n        marker.bindPopup(`<strong>${veh.name}</strong>`);\n        markers.vehicles[veh.id] = marker;\n      }\n    });\n\n    // Add selected location marker as green crosshair\n    const selectedLocation = selectedIncidentLocation || selectedVehicleLocation;\n    if (selectedLocation) {\n      const pos = normToLatLng(selectedLocation);\n      if (pos) {\n        markers.selected = window.L.marker(pos, {\n          icon: createCrosshairIcon()\n        }).addTo(map);\n        const type = selectedIncidentLocation ? 'Incident' : 'Vehicle';\n        markers.selected.bindPopup(`New ${type} Location`).openPopup();\n      }\n    }\n  }, [incidents, vehicles, selectedIncidentLocation, selectedVehicleLocation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-container panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        paddingBottom: 6\n      },\n      className: \"coords-box\",\n      children: \"Click map to pick location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        width: '100%',\n        height: '500px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n}\n_s(MapDisplay, \"HfxYcnpQhQPTJOnowaWcPQZAg+0=\");\n_c = MapDisplay;\nvar _c;\n$RefreshReg$(_c, \"MapDisplay\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","MapDisplay","incidents","vehicles","selectedIncidentLocation","selectedVehicleLocation","onMapClick","_s","mapRef","mapInstanceRef","markersRef","selected","CENTER","ZOOM","normToLatLng","norm","x","undefined","y","latOffset","lngOffset","latLngToNorm","lat","lng","parseFloat","Math","max","min","toFixed","createTriangleIcon","window","L","divIcon","html","className","iconSize","iconAnchor","createCarIcon","createCrosshairIcon","current","link","document","createElement","rel","href","head","appendChild","script","src","onload","map","setView","tileLayer","attribution","addTo","on","e","console","log","latlng","remove","markers","Object","values","forEach","m","removeLayer","filter","i","status","inc","pos","location","marker","icon","bindPopup","name","id","veh","selectedLocation","type","openPopup","children","style","textAlign","paddingBottom","fileName","_jsxFileName","lineNumber","columnNumber","ref","width","height","_c","$RefreshReg$"],"sources":["/Users/abdullahzayed/STJaba-1/frontend/src/components/MapDisplay.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\n\n// MapDisplay shows OpenStreetMap with incidents (red triangles) and vehicles (blue cars)\n// Coordinates are normalized [0-1] relative to center point\n\nexport default function MapDisplay({ incidents = [], vehicles = [], selectedIncidentLocation, selectedVehicleLocation, onMapClick }){\n  const mapRef = useRef(null)\n  const mapInstanceRef = useRef(null)\n  const markersRef = useRef({ incidents: {}, vehicles: {}, selected: null })\n\n  const CENTER = [30.0635840, 31.4889939]\n  const ZOOM = 15\n  \n  // Convert normalized coords to lat/lng\n  const normToLatLng = (norm) => {\n    if (!norm || norm.x === undefined || norm.y === undefined) return null\n    const latOffset = (0.5 - norm.y) * 0.1\n    const lngOffset = (norm.x - 0.5) * 0.1\n    return [CENTER[0] + latOffset, CENTER[1] + lngOffset]\n  }\n\n  // Convert lat/lng to normalized coords\n  const latLngToNorm = (lat, lng) => {\n    const latOffset = lat - CENTER[0]\n    const lngOffset = lng - CENTER[1]\n    const x = 0.5 + (lngOffset / 0.1)\n    const y = 0.5 - (latOffset / 0.1)\n    return { \n      x: parseFloat(Math.max(0, Math.min(1, x)).toFixed(4)), \n      y: parseFloat(Math.max(0, Math.min(1, y)).toFixed(4)) \n    }\n  }\n\n  // Custom icon functions\n  const createTriangleIcon = () => {\n    return window.L.divIcon({\n      html: '<div style=\"width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:20px solid #dc2626;transform:translate(-12px,-20px);filter:drop-shadow(0 2px 4px rgba(0,0,0,0.3))\"></div>',\n      className: '',\n      iconSize: [24, 20],\n      iconAnchor: [12, 20]\n    })\n  }\n\n  const createCarIcon = () => {\n    return window.L.divIcon({\n      html: '<div style=\"font-size:24px;transform:translate(-12px,-12px);filter:drop-shadow(0 2px 4px rgba(0,0,0,0.3))\">ðŸš—</div>',\n      className: '',\n      iconSize: [24, 24],\n      iconAnchor: [12, 12]\n    })\n  }\n\n  const createCrosshairIcon = () => {\n    return window.L.divIcon({\n      html: '<div style=\"width:30px;height:30px;position:relative;transform:translate(-15px,-15px)\"><div style=\"position:absolute;width:2px;height:30px;background:#22c55e;left:14px\"></div><div style=\"position:absolute;width:30px;height:2px;background:#22c55e;top:14px\"></div><div style=\"position:absolute;width:14px;height:14px;border:3px solid #22c55e;border-radius:50%;left:5px;top:5px;background:rgba(34,197,94,0.2)\"></div></div>',\n      className: '',\n      iconSize: [30, 30],\n      iconAnchor: [15, 15]\n    })\n  }\n\n  useEffect(() => {\n    if (!mapRef.current || mapInstanceRef.current) return\n\n    const link = document.createElement('link')\n    link.rel = 'stylesheet'\n    link.href = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css'\n    document.head.appendChild(link)\n\n    const script = document.createElement('script')\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js'\n    script.onload = () => {\n      const map = window.L.map(mapRef.current).setView(CENTER, ZOOM)\n      \n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: 'Â© OpenStreetMap contributors'\n      }).addTo(map)\n\n      map.on('click', (e) => {\n        console.log('Map clicked:', e.latlng)\n        const norm = latLngToNorm(e.latlng.lat, e.latlng.lng)\n        console.log('Normalized:', norm)\n        console.log('onMapClick function:', onMapClick)\n        if (onMapClick) {\n          onMapClick(norm)\n        }\n      })\n\n      mapInstanceRef.current = map\n    }\n    document.head.appendChild(script)\n\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove()\n        mapInstanceRef.current = null\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    if (!mapInstanceRef.current || !window.L) return\n\n    console.log('MapDisplay update - selectedIncidentLocation:', selectedIncidentLocation)\n    console.log('MapDisplay update - selectedVehicleLocation:', selectedVehicleLocation)\n\n    const map = mapInstanceRef.current\n    const markers = markersRef.current\n\n    // Clear old markers\n    Object.values(markers.incidents).forEach(m => map.removeLayer(m))\n    Object.values(markers.vehicles).forEach(m => map.removeLayer(m))\n    if (markers.selected) {\n      map.removeLayer(markers.selected)\n      markers.selected = null\n    }\n    markers.incidents = {}\n    markers.vehicles = {}\n\n    // Add incident markers (pending only) as red triangles\n    incidents.filter(i => i.status === 'pending').forEach(inc => {\n      const pos = normToLatLng(inc.location)\n      if (pos) {\n        const marker = window.L.marker(pos, { icon: createTriangleIcon() }).addTo(map)\n        marker.bindPopup(`<strong>${inc.name}</strong><br>Status: ${inc.status}`)\n        markers.incidents[inc.id] = marker\n      }\n    })\n\n    // Add vehicle markers as blue cars\n    vehicles.forEach(veh => {\n      const pos = normToLatLng(veh.location)\n      if (pos) {\n        const marker = window.L.marker(pos, { icon: createCarIcon() }).addTo(map)\n        marker.bindPopup(`<strong>${veh.name}</strong>`)\n        markers.vehicles[veh.id] = marker\n      }\n    })\n\n    // Add selected location marker as green crosshair\n    const selectedLocation = selectedIncidentLocation || selectedVehicleLocation\n    if (selectedLocation) {\n      const pos = normToLatLng(selectedLocation)\n      if (pos) {\n        markers.selected = window.L.marker(pos, { icon: createCrosshairIcon() }).addTo(map)\n        const type = selectedIncidentLocation ? 'Incident' : 'Vehicle'\n        markers.selected.bindPopup(`New ${type} Location`).openPopup()\n      }\n    }\n  }, [incidents, vehicles, selectedIncidentLocation, selectedVehicleLocation])\n\n  return (\n    <div className=\"map-container panel\">\n      <div style={{textAlign:'center', paddingBottom:6}} className=\"coords-box\">Click map to pick location</div>\n      <div ref={mapRef} style={{ width: '100%', height: '500px' }} />\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}